
<!DOCTYPE html>
<html lang="en">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="./theme/stylesheet/style.min.css">

  <!-- <link rel="stylesheet" type="text/css" href="./theme/pygments/github.min.css"> -->
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/font-awesome.min.css">





  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />


<meta name="author" content="kyle thomas" />
<meta name="description" content="Despite its many controversies, the IRR is a fundamental tool in financial analysis. In this note, we explore the basic formulation of IRR, what this formula looks like with multiple streams of cash, and how to solve for IRR." />
<meta name="keywords" content="finance, accounting, money">
<meta property="og:site_name" content="cmd+build"/>
<meta property="og:title" content="A Note on Internal Rate of Return"/>
<meta property="og:description" content="Despite its many controversies, the IRR is a fundamental tool in financial analysis. In this note, we explore the basic formulation of IRR, what this formula looks like with multiple streams of cash, and how to solve for IRR."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="./irr-note.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2017-01-24 00:00:00-05:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="./author/kyle-thomas.html">
<meta property="article:section" content="business"/>
<meta property="article:tag" content="finance"/>
<meta property="article:tag" content="accounting"/>
<meta property="article:tag" content="money"/>
<meta property="og:image" content="">

  <title>cmd+build &ndash; A Note on Internal Rate of Return</title>

</head>
<body>
  <aside>
    <div>
      <a href=".">
        <img src="./theme/img/profile.png" alt="" title="">
      </a>
      <h1><a href="."></a></h1>


      <ul class="social">
        <li><a class="sc-github" href="https://github.com/tkthomas27" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-linkedin" href="www.linkedin.com/in/timothykylethomas" target="_blank"><i class="fa fa-linkedin"></i></a></li>
        <li><a class="sc-twitter" href="https://twitter.com/tkylethomas27" target="_blank"><i class="fa fa-twitter"></i></a></li>
      </ul>
    

      <nav>
        <ul class="list">

          <li><a href="/about.html" target="_blank">About</a></li>
          <li><a href="/archives.html" target="_blank">Archives</a></li>
          <li><a href="/categories.html" target="_blank">Categories</a></li>
          <li><a href="/tags.html" target="_blank">Tags</a></li>
        </ul>
      </nav>

  </div>



  </aside>
  <main>


<article class="single">
  <header>
    <h1 id="irr-note">A Note on Internal Rate of Return</h1>
    <p>
          Posted on Tue 24 January 2017 in <a href="./category/business.html">business</a>


    </p>
  </header>


  <div>
    <h1>1 Time Value of Money</h1>
<p>The internal rate of return (IRR) is simply the rate <em>r</em> that equates the future value of money to the present value. The actually economic interpretation of this value is highly contested.</p>
<p>Before getting into the IRR, lets establish the basic axioms of the time value of money that depict the relationship between present value (PV), future value (FV), and the rate of return <em>r</em> over the total number of periods (<span class="math">\(T\)</span>):</p>
<div class="math">$$
\begin{equation}
PV = \frac{FV}{(1+r)^T}
\label{basic_pv}
\end{equation}
$$</div>
<div class="math">$$
\begin{equation}
FV = PV(1+r)^T
\label{basic_fv}
\end{equation}
$$</div>
<p>In words, Eq. <span class="math">\(\ref{basic_pv}\)</span> tells us that PV is equal to some FV discounted at a discount rate across the the total time period, where <em>T</em> represents the total number of time periods. The core idea is that cash now is more valuable than cash later. Therefore if I were to lend you money, I would charge you interest to make up for not having money now. This is why we compound our PV to get a FV. We simply reverse this processing by discounting to go from FV back to PV. The focus on our exposition will be on <em>r</em>, the rate of return that is used to discount/compound.</p>
<p>We can rearrange Eq. <span class="math">\(\ref{basic_pv}\)</span> into Eq. <span class="math">\(\ref{basic_irr}\)</span> to see the relationship between the IRR and FV and PV. Eq. <span class="math">\(\ref{basic_irr}\)</span> will be our final step in computing the IRR.</p>
<div class="math">$$
\begin{equation}
r = \sqrt[T]{\frac{FV}{PV}}-1
\label{basic_irr}
\end{equation}
$$</div>
<h1>2 Streams of Cash</h1>
<p>There are plenty of investments that take the form of a single payment in (a negative cash flow out of your pocketbook) followed by a single payment out (a positive cash flow into your pocketbook) after a some period of time. This, however, is a trivial example to be solved and I will instead focus on investments that take the form of multiple cashflows over several periods.</p>
<p>Because we are dealing with a stream of cash flows and not a single value, FV needs to be rewritten. Consider a cash flow at t=1, if the final future period is 60 periods from t=1, then we need to compute the future value of that cash flow for for 60-1 periods from that time. We can rewrite the PV and the FV of a stream of cash flows as</p>
<div class="math">$$
\begin{equation}
PV = \sum_{t=1}^{t=T}\frac{CF_t}{(1+r)^{t}}
\label{pv_cf}
\end{equation}
$$</div>
<div class="math">$$
\begin{equation}
FV = \sum_{t=1}^{t=T}CF_t(1+r)^{T-t}
\label{fv_cf}
\end{equation}
$$</div>
<p>Substituting Eq. <span class="math">\(\ref{fv_cf}\)</span> into Eq. <span class="math">\(\ref{basic_pv}\)</span> and expanding we get:</p>
<div class="math">$$
\begin{equation}
PV = \frac{\sum_{t=1}^{t=T}CF_t(1+r)^{T-t}}{(1+r)^T} = \frac{CF_1(1+r)^{T-1}}{(1+r)^T} + \frac{CF_2(1+r)^{T-2}}{(1+r)^T} + ... + \frac{CF_T(1+r)^{T-T}}{(1+r)^T}
\label{pv_fv}
\end{equation}
$$</div>
<p>We could also modify Eq. <span class="math">\(\ref{pv_fv}\)</span> to read:</p>
<div class="math">$$
\begin{equation}
\mathit{CF}_{t=0} = \frac{\sum_{t=1}^{t=T}CF_t(1+r)^{T-t} + \mathit{CF}_{t=T}}{(1+r)^T}
\end{equation}
$$</div>
<h1>3 Solving for Internal Rate of Return</h1>
<p>Our primary goal is to find the <em>r</em> that solves Eq. <span class="math">\(\ref{pv_fv}\)</span>. The most common method to do so is to treat this as a polynomial root finding exercise. For clarity, we can trivially rewrite Eq. <span class="math">\(\ref{pv_cf}\)</span> as</p>
<div class="math">$$
\begin{equation}
PV = CF_1 (1+r)^{-1} + CF_2 (1+r)^{-2} + ... + CF_n (1+r)^{-n}
\end{equation}
$$</div>
<p>To find the root of this equation we need to set it to zero.</p>
<div class="math">$$
\begin{equation}
0 = -PV + CF_1 (1+r)^{-1} + CF_2 (1+r)^{-2} + ... + CF_n (1+r)^{-n}
\end{equation}
$$</div>
<p>The root <em>r</em> that satisfies this equation is the Internal Rate of Return (IRR). There are several methods of finding this root.</p>
<h2>3.1 Educated Guess and Interpolation</h2>
<p>One way of finding it is to plug and chug using the <code>npv</code> function in Excel and see which rate gives us a negative value. This would not be super precise but would give you an educated guess and allow you to use the secant method to determine a more precise IRR.</p>
<h2>3.2 Root Finding Algorithm</h2>
<p>Similarly we use the <code>uniroot</code> function of R. first specify the function then use <code>uniroot</code> on it. <code>uniroot</code> uses the golden section ratio method in combination with parabolic interpolation to efficiently guess the root that satisfies the function along a specified interval.</p>
<!-- explain excel/secant method -->

<!-- r code  for uniroot -->

<!-- latex appendix for formulas -->

<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="./tag/finance.html">finance</a>
      <a href="./tag/accounting.html">accounting</a>
      <a href="./tag/money.html">money</a>
    </p>
  </div>




</article>

    <footer>
<p>&copy; kyle thomas </p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>





<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " cmd+build ",
  "url" : ".",
  "image": "",
  "description": ""
}
</script>
</body>
</html>